window.licker=window.licker||{},function(鮨){function 鮭(鮨,鮭){this.components=鮨,this.maxFreqOpt=鮭,this.func=function(鯛){return function(鯖){var 鰻,鯉=鮨[鯛][0],鮪=鮨[鯛].length-1,鮑=Math.min(鮭||鮪,鮪);for(鰻=1;鮑>=鰻;鰻++){var 鮎=鮨[鯛][鰻];鯉+=鮎[0]*Math.sin(鰻*鯖+鮎[1])}return 鯉}},this.funcX=this.func(0),this.funcY=this.func(1),this.vertexArr=[];var 鯛;for(鯛=0;鯛<2*Math.PI;鯛+=Math.PI/256)this.vertexArr.push([this.funcX(鯛),this.funcY(鯛)])}鮭.prototype.draw=function(){var 鮭=document.createElementNS("http://www.w3.org/2000/svg","polygon");鮭.setAttribute("points",this.vertexArr),鮨.$canvas.append(鮭)},鮭.prototype.toExpression=function(){Math.sign=Math.sign||function(鮨){return 鮨=+鮨,0===鮨||isNaN(鮨)?鮨:鮨>0?1:-1};var 鮨=[],鮭=this;return this.components.forEach(function(鯛,鯖){var 鰻,鯉=鯛.length,鮪=鯛[0],鮑=鯉-1,鮎=Math.min(鮭.maxFreqOpt||鮑,鮑);for(鰻=1;鮎>=鰻;鰻++){var 鰹=鯛[鰻][0],鯨=Math.sign(鰹),鱧=(Math.abs(鰹),鯛[鰻][1]),鮫=Math.sign(鱧),鯊=Math.abs(鱧),鯱=0!==鯨;鯱&&(鮪+=" "+(1===鯨?"+":"-")+" "+(1===鰹?"":鰹)+"sin("+(1===鰻?"":鰻)+"t"+(0===鯊?"":" "+(1===鮫?"+":"-")+" "+鯊+")"))}鮨[鯖]=鮪}),{x:鮨[0],y:鮨[1]}},鮨.Curve=鮭}(window.licker),window.licker=window.licker||{},function(鮨){function 鮭(){this.currentFrame=0,this.curveArr=[]}鮭.prototype.play=function(){},鮭.prototype.drawFrame=function(鮭){var 鯛,鯖=鮨.movieData[鮭];if(this.curveArr=[],鯖)for(鮨.$canvas.children().remove(),鯛=0;鯛<鯖.length;鯛++){var 鰻=new 鮨.Curve(鯖[鯛],this.maxFreq);this.curveArr.push(鰻),鰻.draw()}this.currentFrame=鮭},鮭.prototype.redraw=function(){this.drawFrame(this.currentFrame)},鮨.AnimationPlayer=鮭}(window.licker),window.licker=window.licker||{},function(鮨){function 鮭(鮨){this.audioElm=鮨.get(0),this.$elm=鮨}鮭.prototype.play=function(){return this.audioElm.play(),this},鮭.prototype.pause=function(){return this.audioElm.pause(),this},鮭.prototype.stop=function(){return this.audioElm.pause(),this.audioElm.currentTime=0,this},鮨.AudioPlayer=鮭}(window.licker),window.licker=window.licker||{},function(鮨){function 鮭(鮭,鯛){this.animationPlayer=鮭,this.audioPlayer=鯛,this.frameRate=30,this.isPause=!0,this.$info=$();var 鯖=this;$(function(){鯖.$info=$(".info--pause"),鯖.$blockInfo=鯖.$info.find(".block-info")}),鯛.$elm.on("play",function(){鯖.play();try{鮨.ytPlayer.seekTo(鯖.getCurrentTime(),!0),鮨.ytPlayer.playVideo()}catch(鮭){}鯖.$info.hide()}),鯛.$elm.on("pause",function(){鯖.pause();try{鮨.ytPlayer.pauseVideo()}catch(鮭){}鯖.showInfo()}),鯛.$elm.on("seeking",function(){鯖.animationPlayer.drawFrame(鯖.getFrame()),鯖.showInfo();try{鮨.ytPlayer.seekTo(鯖.getCurrentTime(),!1)}catch(鮭){}})}鮭.prototype.getFrame=function(){return Math.floor(this.audioPlayer.audioElm.currentTime*this.frameRate)},鮭.prototype.getCurrentTime=function(){return this.audioPlayer.audioElm.currentTime},鮭.prototype.play=function(){function 鮨(){鮭.isPause||(鮭.animationPlayer.drawFrame(鮭.getFrame()),requestAnimationFrame(鮨))}this.audioPlayer.play(),this.isPause=!1;var 鮭=this;requestAnimationFrame(鮨)},鮭.prototype.pause=function(){this.isPause=!0},鮭.prototype.showInfo=function(){_self=this;var 鮨="https://www.wolframcloud.com/objects/65f6ffb2-c5c4-4295-ac84-ab3d304bbbe2",鮭=_self.animationPlayer.curveArr,鯛=_.template('<dl><dt>x(t) = </dt><dd><%= x %></dd><dt>y(t) = </dt><dd><%= y %></dd><dt>plot: </dt><dd><a href="<%= api_url %>?x=<%= encodeURIComponent(x) %>&y=<%= encodeURIComponent(y) %>" target="_blank">Open the link</a></dd></dl>');if(_self.$blockInfo.html(""),鮭.length>0){var 鯖=$("<ol></ol>");鮭.forEach(function(鮭){var 鰻="",鯉=$("<li></li>"),鮪=鮭.toExpression(),鮑={x:鮪.x,y:鮪.y,api_url:鮨};鰻+=鯛(鮑),鯉.html(鰻),鯖.append(鯉)}),_self.$blockInfo.append(鯖)}_self.$info.show()},鮨.MoviePlayer=鮭}(window.licker),window.licker=window.licker||{},function(鮨){"use strict";function 鮭(鮭){$("#svg--loading").fadeOut(500),鮨.movieData=鮭,鮨.currentFrame=0,$(function(){var 鮭=$(".controller-max-freq");鮭.on("updatevalue",function(鮨){var 鮭=$(this).attr("data-value");鯖.maxFreq=鮭,鯉.val(鮭),鮪.val(鮭),鯖.redraw(),0!==鯛.getFrame()&&鯛.isPause&&鯛.showInfo()});var 鯉=$(".controller-max-freq__slidebar input"),鮪=$(".controller-max-freq__number input");鯉.on("input change",function(){鮭.attr("data-value",$(this).val()),鮭.trigger("updatevalue")}),鮪.on("input change",function(){鮭.attr("data-value",$(this).val()),鮭.trigger("updatevalue")});var 鮑=$(".svg-canvas .svg-canvas__main");鮨.$canvas=鮑;var 鮎=$(".audio--bad-apple");鰻=new 鮨.AudioPlayer(鮎),鯖=new 鮨.AnimationPlayer,鯛=new 鮨.MoviePlayer(鯖,鰻),鮨.moviePlayer=鯛,鮨.animationPlayer=鯖,鮨.audioPlayer=鰻,鯉.trigger("change"),$('[class^="controller-quality__button--"]').on("click",function(){var 鯛=$(this),鯖={lq:"controller-quality__button--lq",mq:"controller-quality__button--mq",hq:"controller-quality__button--hq"};鮨.quality="lq",_.each(鯖,function(鮭,鰻){鯛.hasClass(鯖[鰻])&&(鮨.quality=鰻)}),"mq"===鮨.quality?($("."+鯖.mq).attr("disabled",!0),鮭.attr("data-value",50).trigger("updatevalue")):"hq"===鮨.quality&&($("."+鯖.mq).attr("disabled",!0),$("."+鯖.hq).attr("disabled",!0),鮭.attr("data-value",100).trigger("updatevalue")),$.getJSON("assets/data/fourier_arr_"+鮨.quality+".json",function(鮭){鮨.movieData=鮭})}),$(".controller-compare").on("change",function(){var 鮭={NORMAL:"normal",COMPARE:"compare",OVERLAY:"overlay"},鯖=$(".array-movie");if($(this).val()===鮭.NORMAL?鯖.attr("data-mode",鮭.NORMAL):$(this).val()===鮭.COMPARE?鯖.attr("data-mode",鮭.COMPARE):$(this).val()===鮭.OVERLAY&&($('.controller-color--line [value="red"]').prop("checked",!0).trigger("change"),鯖.attr("data-mode",鮭.OVERLAY)),$(this).val()===鮭.COMPARE||$(this).val()===鮭.OVERLAY)try{鮨.ytPlayer.seekTo(鯛.getCurrentTime(),!0)}catch(鰻){}}),$('.controller-color input[type="radio"]').on("change",function(){var 鮨=$(this).val(),鮭=$(this).closest(".controller-color");鮭.trigger("updatevalue",鮨)}),$('.controller-color input[type="color"]').on("change",function(){var 鮨=$(this).val(),鮭=$(this).closest(".controller-color");鮭.trigger("updatevalue",鮨)}),$(".controller-color").on("updatevalue",function(鮨,鮭){var 鯛=$(this),鯖=鮭;鯛.attr("data-color",鯖),鯛.is(".controller-color--bg")&&$("body").css({"background-color":鯖}),鯛.is(".controller-color--fill")&&$(".svg-canvas .svg-canvas__main").css({fill:鯖}),鯛.is(".controller-color--line")&&$(".svg-canvas .svg-canvas__main").css({stroke:鯖})});var 鰹=$(".controller-thickness");鰹.on("updatevalue",function(鮨){var 鮭=$(this).attr("data-value");$(".svg-canvas .svg-canvas__main").css({"stroke-width":鮭}),鯨.val(鮭),鱧.val(鮭)});var 鯨=$(".controller-thickness__slidebar input"),鱧=$(".controller-thickness__number input");鯨.on("input change",function(){鰹.attr("data-value",$(this).val()),鰹.trigger("updatevalue")}),鱧.on("input change",function(){鰹.attr("data-value",$(this).val()),鰹.trigger("updatevalue")}),鯨.trigger("change"),鯛.play()})}鮨.movieData={};var 鯛,鯖,鰻,鯉=9249535;$.ajax({url:"assets/data/fourier_arr_lq.json",type:"GET",success:鮭,error:function(鮨){alert("error")},xhr:function(){var 鮨=$.ajaxSettings.xhr();return 鮨.addEventListener("progress",this.progress),鮨},progress:function(鮨){var 鮭=鮨.loaded/鯉;$("#mask--front, #mask--back").css({translate:"0 "+100*鮭+"px"}),$("#wave--front, #wave--back").css({translate:"0 "+100*-鮭+"px"})}}),window.onYouTubeIframeAPIReady=function(){function 鮭(){鰻.mute(),鯛&&!鯛.isPause&&鰻.playVideo()}function 鯖(鮨){switch(鮨.data){case window.YT.PlayerState.PAUSED:case window.YT.PlayerState.ENDED:break;case window.YT.PlayerState.PLAYING:}}var 鰻=new YT.Player("original_movie",{width:"480",height:"360",videoId:"G3C-VevI36s",events:{onReady:鮭,onStateChange:鯖},playerVars:{rel:0,showinfo:0,controls:0,wmode:"transparent"}});鮨.ytPlayer=鰻}}(window.licker);